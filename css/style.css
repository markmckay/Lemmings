* {
  margin: 0; padding: 0; box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
  user-select: none; -webkit-user-select: none;
}
html, body { width:100%; height:100%; overflow:hidden; background:#000; font-family:'Courier New',monospace; }

/* ── Main Menu ── */
#main-menu {
  display:flex; position:fixed; inset:0; z-index:300;
  background:radial-gradient(ellipse at center,#0a2a1a 0%,#000 100%);
  flex-direction:column; align-items:center; justify-content:center; gap:20px; color:#fff;
}
#main-menu h1 { font-size:clamp(32px,10vw,72px); color:#0f0; letter-spacing:6px; text-shadow:0 0 30px #0f0; }
#main-menu .subtitle { font-size:clamp(11px,2.5vw,16px); color:#888; letter-spacing:3px; }
#main-menu button {
  padding:14px 40px; font-size:clamp(15px,4vw,22px);
  background:#1a3a1a; border:2px solid #0f0; border-radius:8px;
  color:#0f0; cursor:pointer; font-family:inherit; letter-spacing:2px;
}
#main-menu button:active { background:#2a5a2a; }

/* ── Level Select ── */
#level-select {
  display:none; position:fixed; inset:0; z-index:200;
  background:#0a0a1a; overflow-y:auto; padding:16px;
}
#level-select.visible { display:block; }
#level-select h2 { color:#0f0; text-align:center; font-size:clamp(16px,4vw,28px); margin-bottom:16px; letter-spacing:2px; }
.category-tabs { display:flex; gap:8px; justify-content:center; margin-bottom:16px; flex-wrap:wrap; }
.cat-tab { padding:6px 16px; background:#222; border:2px solid #444; border-radius:4px; color:#aaa; cursor:pointer; font-family:inherit; font-size:13px; }
.cat-tab.active { border-color:#0f0; color:#0f0; }
.level-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(120px,1fr)); gap:8px; max-width:700px; margin:0 auto; }
.level-card { background:#1a1a2e; border:2px solid #333; border-radius:6px; padding:10px 8px; cursor:pointer; text-align:center; }
.level-card.unlocked { border-color:#555; }
.level-card.completed { border-color:#0a0; background:#0a1a0a; }
.level-card.locked { opacity:0.35; cursor:not-allowed; pointer-events:none; }
.level-card .level-num { font-size:22px; color:#ff0; font-weight:bold; }
.level-card .level-name { font-size:9px; color:#aaa; margin-top:4px; }

/* ── App shell ── */
#app { display:flex; flex-direction:column; width:100%; height:100%; position:fixed; inset:0; }

/* ── HUD ── */
#hud {
  display:flex; align-items:center; justify-content:space-between;
  background:#111; color:#0f0; font-size:clamp(9px,2vw,13px);
  padding:4px 10px; height:30px; flex-shrink:0; letter-spacing:1px; z-index:10;
}

/* ── Canvas ── */
#game-container { flex:1; position:relative; overflow:hidden; background:#1a1a2e; }
#game-canvas { display:block; image-rendering:pixelated; image-rendering:crisp-edges; touch-action:none; }

/* ── Overlay ── */
#overlay {
  display:none; position:absolute; inset:0; background:rgba(0,0,0,0.85);
  z-index:100; flex-direction:column; align-items:center; justify-content:center;
  color:#fff; text-align:center; padding:20px;
}
#overlay.visible { display:flex; }
#overlay h1 { font-size:clamp(20px,5vw,38px); margin-bottom:10px; letter-spacing:2px; }
#overlay p { font-size:clamp(12px,2.5vw,17px); color:#ccc; margin-bottom:6px; }
#overlay .big-stat { font-size:clamp(30px,8vw,56px); color:#0f0; font-weight:bold; margin:10px 0; }
#overlay .overlay-buttons { display:flex; gap:14px; margin-top:18px; flex-wrap:wrap; justify-content:center; }
#overlay button {
  padding:10px 24px; font-size:clamp(12px,3vw,17px);
  background:#333; border:2px solid #666; border-radius:6px;
  color:#fff; cursor:pointer; font-family:inherit; letter-spacing:1px;
}
#overlay button.primary { border-color:#0f0; color:#0f0; }
#overlay button.danger  { border-color:#f44; color:#f88; }

/* ── Toolbar ── */
#toolbar {
  display:flex; align-items:center; background:#1a1a1a;
  border-top:2px solid #333; height:70px; flex-shrink:0;
  overflow-x:auto; overflow-y:hidden; z-index:10; padding:0 6px; gap:3px;
}
#toolbar::-webkit-scrollbar { display:none; }
#skill-buttons { display:flex; gap:3px; flex-shrink:0; }

.skill-btn {
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  min-width:54px; height:62px; background:#2a2a2a; border:2px solid #555;
  border-radius:5px; cursor:pointer; flex-shrink:0; padding:2px;
}
.skill-btn.selected { border-color:#ff0; background:#332200; }
.skill-btn.disabled { opacity:0.3; cursor:not-allowed; }
.skill-icon { width:30px; height:30px; }
.skill-count { font-size:12px; color:#fff; font-weight:bold; line-height:1; }
.skill-label { font-size:8px; color:#888; line-height:1; text-transform:uppercase; }

#toolbar-right {
  display:flex; flex-direction:column; align-items:center;
  gap:4px; margin-left:auto; padding:0 4px; flex-shrink:0;
}
.rate-controls { display:flex; align-items:center; gap:4px; color:#fff; font-size:11px; }
.rate-btn {
  width:26px; height:26px; background:#444; border:1px solid #666; border-radius:3px;
  color:#fff; font-size:16px; cursor:pointer; display:flex; align-items:center; justify-content:center;
}
.rate-btn:active { background:#666; }
#rate-display { min-width:26px; text-align:center; color:#0f0; font-weight:bold; font-size:12px; }
.action-buttons { display:flex; gap:4px; }
.action-btn {
  padding:3px 8px; background:#333; border:1px solid #555;
  border-radius:3px; color:#fff; font-size:13px; cursor:pointer;
}
.action-btn:active { background:#555; }
#nuke-btn { border-color:#744; }
